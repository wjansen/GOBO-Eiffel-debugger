<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="generator" content="hevea 2.09">
<title>A debugger for the Gobo Eiffel compiler  
User's guide 
 
Version: 2.0
</title>
<link rel="stylesheet" type="text/css" href="debugh.css">
</head>
<body >
<!--HEVEA command line is: /usr/bin/hevea -fix debugh -->
<!--HACHA command line is: /usr/bin/hacha debugh.html -->
Gedb &#X2013; The Gec debugger<table class="title"><tr><td style="padding:1ex"><h1 class="titlemain">A debugger for the Gobo Eiffel compiler <br>
User&#X2019;s guide 
<br>
<span style="font-size:large">Version: 2.0</span></h1><h3 class="titlerest"><span style="font-size:large">Wolfgang Jansen</span></h3></td></tr>
</table><p><code>(A printable version of this manual <a href="debug.pdf">is here</a>.)</code>
</p><h2 id="sec1" class="section">Contents</h2>
<ul class="toc"><li class="li-toc">
<a href="#sec2">1&#XA0;&#XA0;Introduction</a>
</li><li class="li-toc"><a href="#sec3">2&#XA0;&#XA0;Installation and Usage</a>
<ul class="toc"><li class="li-toc">
<a href="debugh001.html#sec4">2.1&#XA0;&#XA0;Prerequisites</a>
</li><li class="li-toc"><a href="debugh002.html#sec5">2.2&#XA0;&#XA0;Installation</a>
</li><li class="li-toc"><a href="debugh003.html#sec6">2.3&#XA0;&#XA0;Usage</a>
</li></ul>
</li><li class="li-toc"><a href="#sec7">3&#XA0;&#XA0;GUI</a>
<ul class="toc"><li class="li-toc">
<a href="debugh004.html#sec8">3.1&#XA0;&#XA0;Overview</a>
</li><li class="li-toc"><a href="debugh005.html#sec9">3.2&#XA0;&#XA0;Specialized fields</a>
</li><li class="li-toc"><a href="debugh006.html#sec12">3.3&#XA0;&#XA0;Menu bar</a>
</li><li class="li-toc"><a href="debugh007.html#sec13">3.4&#XA0;&#XA0;Run part</a>
<ul class="toc"><li class="li-toc">
<a href="debugh007.html#sec14">3.4.1&#XA0;&#XA0;Stop-and-go behaviour</a>
</li><li class="li-toc"><a href="debugh007.html#sec15">3.4.2&#XA0;&#XA0;Mark and reset</a>
</li></ul>
</li><li class="li-toc"><a href="debugh008.html#sec16">3.5&#XA0;&#XA0;Breakpoints part</a>
<ul class="toc"><li class="li-toc">
<a href="debugh008.html#sec17">3.5.1&#XA0;&#XA0;Breakpoints table</a>
</li><li class="li-toc"><a href="debugh008.html#sec18">3.5.2&#XA0;&#XA0;Editing</a>
</li><li class="li-toc"><a href="debugh008.html#sec19">3.5.3&#XA0;&#XA0;Create and remove</a>
</li></ul>
</li><li class="li-toc"><a href="debugh009.html#sec20">3.6&#XA0;&#XA0;Source part</a>
<ul class="toc"><li class="li-toc">
<a href="debugh009.html#sec21">3.6.1&#XA0;&#XA0;Highlighted text</a>
</li><li class="li-toc"><a href="debugh009.html#sec22">3.6.2&#XA0;&#XA0;Class selection</a>
</li><li class="li-toc"><a href="debugh009.html#sec23">3.6.3&#XA0;&#XA0;Cursor movement</a>
</li><li class="li-toc"><a href="debugh009.html#sec24">3.6.4&#XA0;&#XA0;Searching</a>
</li><li class="li-toc"><a href="debugh009.html#sec25">3.6.5&#XA0;&#XA0;Other actions</a>
</li></ul>
</li><li class="li-toc"><a href="debugh010.html#sec26">3.7&#XA0;&#XA0;Console part</a>
</li><li class="li-toc"><a href="debugh011.html#sec27">3.8&#XA0;&#XA0;Stack part</a>
</li><li class="li-toc"><a href="debugh012.html#sec28">3.9&#XA0;&#XA0;Data part</a>
<ul class="toc"><li class="li-toc">
<a href="debugh012.html#sec29">3.9.1&#XA0;&#XA0;Data representation</a>
</li><li class="li-toc"><a href="debugh012.html#sec30">3.9.2&#XA0;&#XA0;Actions</a>
</li><li class="li-toc"><a href="debugh012.html#sec31">3.9.3&#XA0;&#XA0;More data windows</a>
</li></ul>
</li><li class="li-toc"><a href="debugh013.html#sec32">3.10&#XA0;&#XA0;SQL part</a>
</li><li class="li-toc"><a href="debugh014.html#sec33">3.11&#XA0;&#XA0;Evaluation part</a>
<ul class="toc"><li class="li-toc">
<a href="debugh014.html#sec34">3.11.1&#XA0;&#XA0;Evaluation</a>
</li><li class="li-toc"><a href="debugh014.html#sec35">3.11.2&#XA0;&#XA0;Assignment</a>
</li></ul>
</li><li class="li-toc"><a href="debugh015.html#sec36">3.12&#XA0;&#XA0;Status bar</a>
</li></ul>
</li><li class="li-toc"><a href="#sec37">4&#XA0;&#XA0;Expressions</a>
<ul class="toc"><li class="li-toc">
<a href="debugh016.html#sec38">4.1&#XA0;&#XA0;General objects</a>
</li><li class="li-toc"><a href="debugh017.html#sec39">4.2&#XA0;&#XA0;Expression lists</a>
</li><li class="li-toc"><a href="debugh018.html#sec40">4.3&#XA0;&#XA0;<span style="font-family:monospace">SPECIAL</span> objects</a>
</li><li class="li-toc"><a href="debugh019.html#sec41">4.4&#XA0;&#XA0;Alias names</a>
</li><li class="li-toc"><a href="debugh020.html#sec42">4.5&#XA0;&#XA0;Validation</a>
</li></ul>
</li></ul>
<h2 id="sec2" class="section">1&#XA0;&#XA0;Introduction</h2>
<p><a id="S:intro"></a>
This manual describes a graphical debugger for the <span style="font-style:oblique">Gec</span> compiler. 
The debugger has two levels of functionality. 
First, a reduced version of the debugger 
(called the <U>post mortem analyser</U>)
is added to a system if it is compiled 
not in finalized mode and without the proper debugger 
(which will be called <U>runtime analyser</U> in the following 
while <U>debugger</U> means both, post mortem analyser and runtime analyser). 
The effect is that the post mortem analyser 
gets invoked if the program crashes for some reason. 
This way, the call stack as well as data on stack and heap can be analysed. 
The post mortem analyser has been inspired by the <span style="font-family:monospace">core</span> file 
written by <span style="font-style:oblique">Unix</span> in case of a program crash: 
the file can then be used by a debugger to analyse the program state 
at the point of the crash. So, why not invoking the debugger at once? 
The post mortem analyser of <span style="font-style:oblique">Gedb</span> gives a positive answer. 
In more detail, 
the post mortem analyser provides functionality for the following topics: 
</p><ul class="itemize"><li class="li-itemize">moving up and down the call stack 
(see Sec.&#XA0;<a href="debugh011.html#S%3Astack">3.8</a>); 
</li><li class="li-itemize">computing and displaying data 
(see Secs.&#XA0;<a href="debugh012.html#S%3Adata">3.9</a>, <a href="debugh013.html#S%3Asql">3.10</a>, <a href="debugh014.html#S%3Aeval">3.11</a> except <a href="debugh014.html#S%3Aassign">3.11.2</a>); 
</li><li class="li-itemize">listing source code (see Sec.&#XA0;<a href="debugh009.html#S%3Asource">3.6</a>). 
</li></ul><p>
Additionally, the runtime analyser provides functionality for 
</p><ul class="itemize"><li class="li-itemize">defining and manipulating breakpoints (see Sec.&#XA0;<a href="debugh008.html#S%3Abreakpoints">3.5</a>); 
</li><li class="li-itemize">running the program in a stop-and-go manner 
(see Sec.&#XA0;<a href="debugh007.html#S%3Arun">3.4</a>); 
</li><li class="li-itemize">assigning values to variables (see Sec.&#XA0;<a href="debugh014.html#S%3Aassign">3.11.2</a>). 
</li></ul><p>In contrast to debuggers like <span style="font-style:oblique">gdb</span> that run debugger and debuggee 
in two different processes, 
the <span style="font-style:oblique">Gedb</span> follows a poor man&#X2019;s approach: 
at many places of the generated <span style="font-style:oblique">C</span> code 
calls to the debugger are inserted during compilation to check 
whether the debugger should become active, 
in particular checking for breakpoints. 
Depending on the number and complexity of breakpoints, 
the chosen technique increases dramatically the run time between breakpoints 
(but does not detectable slow down the debuggee 
when progressing the system step by step 
since then most time is consumed by user interactions). 
The post mortem analyser does not slow down the computation so much: 
at the places in <span style="font-style:oblique">C</span> code where the runtime analyser would be called 
it simply sets a local variable to the program position. 
Together, with the meta-information linked into the debuggee 
this is sufficient for the <span style="font-style:oblique">Gedb</span> to do its job after crash.
</p><p>To integrate the debugger into the <span style="font-style:oblique">Gec</span> compiler 
the compiler had to be modified. But this concerns the code generation 
and command line analysis only, 
so the compiler&#X2019;s integrity is preserved. 
The debuggee&#X2019;s integrity is preseved as well since only additions 
to the <span style="font-style:oblique">C</span> code are made that do not modify the behaviour 
of the normally generated code 
(surely, the additions cause the longer runtime).
</p><p>The debugger uses the <span style="font-style:oblique">GTK+</span> graphics library 
for the graphical user interface (GUI for short). 
<span style="font-style:oblique">GTK+</span> and related libraries as <span style="font-style:oblique">GLib</span> etc.
are written in <span style="font-style:oblique">C</span> and are intended to be used from <span style="font-style:oblique">C</span> programs. 
This is a hard job for an <span style="font-style:oblique">Eiffel</span> programmer. 
But there is the OO programming language <span style="font-style:oblique">Vala</span> 
that is a shell for <span style="font-style:oblique">GLib</span> and <span style="font-style:oblique">GTK+</span> 
so the debugger has been written in <span style="font-style:oblique">Vala</span>. 
The result is a library (a shared object under <span style="font-style:oblique">POSIX</span> compliant 
operation systems, a <span style="font-style:oblique">DLL</span> under <span style="font-style:oblique">Windows</span>) that is to be linked 
to the <span style="font-style:oblique">Gec</span> generated program. 
</p><p>So far it has been described what the debugger is and what it does. 
Another question is what the debugger does not. 
On the lower end, some traditional debuggers like the <span style="font-style:oblique">gdb</span> 
allow for low level debugging on the level of assembler code. 
This is not possible here since the <span style="font-style:oblique">Gec</span> compiles to <span style="font-style:oblique">C</span> code,
not to assembler code, and the necessary meta-information is not available. 
In the middle, the debugger does not support debugging of multi-threaded 
<span style="font-style:oblique">Eiffel</span> systems: each thread has its own stack 
and it is not yet possible from the debugger&#X2019;s side 
to distinguish between the stacks. 
On the upper end, the <span style="font-style:oblique">Gedb</span> is not an <span style="font-style:oblique">IDE</span>, 
i.e. it does not include an editor, nor the <span style="font-style:oblique">Gec</span>, nor any kind 
of project management. 
</p><p>The debugger should help, as the name indicates, to find bugs 
in an <span style="font-style:oblique">Eiffel</span> system, but itself must be bug free. 
This is the ideal, not the reality. 
One deficiency is already known and cannot be solved in the given framework: 
the debugging session may fail if the debuggee uses 
(via <span style="font-family:monospace">external</span> routines) the <span style="font-style:oblique">GTK+</span> graphics library 
as does the debugger. The calls of both programs to this library 
may interfere in an uncontrolled way causing a crash. 
Several other debugger errors are caught by exception handling: 
execution of the actual command is cancelled and an error message is issued. 
It may happen that even this emergency break does not work and 
the debugger crashes during command execution. 
In such a case, please send a bug report to <br>
</p><div class="center"><span style="font-family:monospace">mailto:wo.jansen@kabelmail.de</span></div>
<h2 id="sec3" class="section">2&#XA0;&#XA0;Installation and Usage</h2>
<p><a id="S:installtionUsage"></a>
</p>
<ul>
<li><a href="debugh001.html">Prerequisites</a>
</li><li><a href="debugh002.html">Installation</a>
</li><li><a href="debugh003.html">Usage</a>
</li></ul>
<h2 id="sec7" class="section">3&#XA0;&#XA0;GUI</h2>
<p><a id="S:gui"></a>
</p>
<ul>
<li><a href="debugh004.html">Overview</a>
</li><li><a href="debugh005.html">Specialized fields</a>
</li><li><a href="debugh006.html">Menu bar</a>
</li><li><a href="debugh007.html">Run part</a>
<ul>
<li><a href="debugh007.html#sec14">Stop-and-go behaviour</a>
</li><li><a href="debugh007.html#sec15">Mark and reset</a>
</li></ul>
</li><li><a href="debugh008.html">Breakpoints part</a>
<ul>
<li><a href="debugh008.html#sec17">Breakpoints table</a>
</li><li><a href="debugh008.html#sec18">Editing</a>
</li><li><a href="debugh008.html#sec19">Create and remove</a>
</li></ul>
</li><li><a href="debugh009.html">Source part</a>
<ul>
<li><a href="debugh009.html#sec21">Highlighted text</a>
</li><li><a href="debugh009.html#sec22">Class selection</a>
</li><li><a href="debugh009.html#sec23">Cursor movement</a>
</li><li><a href="debugh009.html#sec24">Searching</a>
</li><li><a href="debugh009.html#sec25">Other actions</a>
</li></ul>
</li><li><a href="debugh010.html">Console part</a>
</li><li><a href="debugh011.html">Stack part</a>
</li><li><a href="debugh012.html">Data part</a>
<ul>
<li><a href="debugh012.html#sec29">Data representation</a>
</li><li><a href="debugh012.html#sec30">Actions</a>
</li><li><a href="debugh012.html#sec31">More data windows</a>
</li></ul>
</li><li><a href="debugh013.html">SQL part</a>
</li><li><a href="debugh014.html">Evaluation part</a>
<ul>
<li><a href="debugh014.html#sec34">Evaluation</a>
</li><li><a href="debugh014.html#sec35">Assignment</a>
</li></ul>
</li><li><a href="debugh015.html">Status bar</a>
</li></ul>
<h2 id="sec37" class="section">4&#XA0;&#XA0;Expressions</h2>
<p><a id="S:expression"></a>
<span style="font-style:oblique">Eiffel</span> expressions have to be entered in several debugger fields. 
The expressions can be rather complex 
and are by far the most complex keyboard inputs required,
so they may need a special explanation.
The first section describes their general format, the following one describes 
how to format <span style="font-family:monospace">SPECIAL</span> objects or to select entries. 
</p>
<ul>
<li><a href="debugh016.html">General objects</a>
</li><li><a href="debugh017.html">Expression lists</a>
</li><li><a href="debugh018.html"><span style="font-family:monospace">SPECIAL</span> objects</a>
</li><li><a href="debugh019.html">Alias names</a>
</li><li><a href="debugh020.html">Validation</a>
</li></ul>
<!--FOOTER-->
<hr style="height:2"><blockquote class="quote"><em>This document was translated from L<sup>A</sup>T<sub>E</sub>X by
</em><a href="http://hevea.inria.fr/index.html"><em>H</em><em><span style="font-size:small"><sup>E</sup></span></em><em>V</em><em><span style="font-size:small"><sup>E</sup></span></em><em>A</em></a><em>.</em></blockquote></body>
</html>
